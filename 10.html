<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Airbank Pulse Pro – Sentiments</title>
  <!-- Fluent UI Web Components -->
  <script type="module" src="https://unpkg.com/@fluentui/web-components"></script>
  <style>
    :root {
      --bg: #f7f7f7;
      --card-bg: #ffffff;
      --text: #111;
      --subtext: #555;
      --accent: #2563eb; /* Fluent-esque primary */
      --muted: #e5e7eb;
    }

    html, body {
      margin: 0; padding: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: var(--bg);
    }

    header {
      padding: 14px 16px 6px;
      background: #fff;
      position: sticky; top: 0; z-index: 10;
      border-bottom: 1px solid var(--muted);
    }
    .title {
      font-weight: 700; font-size: 18px; line-height: 1.2;
      letter-spacing: .2px;
    }
    .subtitle { color: var(--subtext); font-size: 13px; margin-top: 4px; }

    .carousel {
      position: relative;
      overflow: hidden;
      width: 100vw;
      max-width: 480px; /* phone width */
      margin: 10px auto 32px;
    }

    .track {
      display: flex;
      transition: transform 320ms cubic-bezier(.2,.8,.2,1);
      will-change: transform;
    }

    .slide {
      min-width: 100%;
      box-sizing: border-box;
      padding: 14px;
    }

    fluent-card.slide-card {
      display: block;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,.08);
      padding: 16px;
    }

    .sentiment-header { display:flex; align-items:center; gap:8px; margin-bottom:6px; }
    .chip { font-size:12px; color:#0a0; background:#eaffea; padding:4px 8px; border-radius:999px; }
    .chip.neg { color:#b00020; background:#ffecef; }
    .chip.mix { color:#8a5800; background:#fff5e6; }

    .sentiment-title { font-size: 16px; font-weight: 700; }
    .sentiment-summary { color: var(--subtext); font-size: 14px; line-height: 1.5; margin: 6px 0 10px; }

    .quotes { display: grid; gap: 10px; }

    .quote {
      position: relative;
      padding: 12px 12px 12px 14px;
      border: 1px solid var(--muted);
      border-radius: 12px;
      background: #fff;
    }

    .quote-text { font-size: 14px; line-height: 1.45; }
    .quote-meta { margin-top: 8px; font-size: 12px; color: var(--subtext); display:flex; align-items:center; gap:8px; }

    .quote-link {
      display:inline-flex; align-items:center; gap:6px; text-decoration:none;
      color: var(--accent);
    }

    .icon-link { width: 16px; height: 16px; display:inline-block; }
    .icon-link svg { width: 16px; height: 16px; }

    .controls { display:flex; justify-content:space-between; align-items:center; gap:8px; margin: 12px auto 0; width: 100%; max-width: 480px; padding: 0 10px; box-sizing: border-box; }

    fluent-button.nav { --accent-foreground-rest: #fff; }

    .dots { display:flex; gap:6px; align-items:center; justify-content:center; flex:1; }
    .dot { width:8px; height:8px; border-radius:999px; background:#d1d5db; }
    .dot.active { background: var(--accent); }

    /* Touch targets */
    .nav { min-width: 44px; }

    /* Make cards stretch to full viewport height minus header for immersive feel */
    .slide-card { min-height: calc(100dvh - 120px); }

    /* Safe area insets for iOS */
    .controls { padding-bottom: max(8px, env(safe-area-inset-bottom)); }
  </style>
</head>
<body>
  <header>
    <div class="title">Airbank Pulse Pro — Sentiment Highlights</div>
    <div class="subtitle">Designed with Fluent (Microsoft) styles • Mobile carousel</div>
  </header>

  <section class="carousel" id="carousel" aria-roledescription="carousel">
    <div class="track" id="track" role="group" aria-label="Sentiment slides"></div>
  </section>

  <div class="controls">
    <fluent-button appearance="accent" class="nav" id="prevBtn" aria-label="Previous">◀</fluent-button>
    <div class="dots" id="dots" aria-hidden="true"></div>
    <fluent-button appearance="accent" class="nav" id="nextBtn" aria-label="Next">▶</fluent-button>
  </div>

  <template id="slideTemplate">
    <div class="slide" role="group">
      <fluent-card class="slide-card">
        <div class="sentiment-header">
          <span class="chip" data-chip></span>
          <span class="sentiment-title" data-title></span>
        </div>
        <div class="sentiment-summary" data-summary></div>
        <div class="quotes" data-quotes></div>
      </fluent-card>
    </div>
  </template>

  <template id="quoteTemplate">
    <div class="quote">
      <div class="quote-text" data-quote></div>
      <div class="quote-meta">
        <a class="quote-link" data-href target="_blank" rel="noopener noreferrer">
          <span class="icon-link" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M10 13a5 5 0 0 0 7.07 0l2.83-2.83a5 5 0 0 0-7.07-7.07L10 5"/>
              <path d="M14 11a5 5 0 0 0-7.07 0L4.1 13.83a5 5 0 1 0 7.07 7.07L14 19"/>
            </svg>
          </span>
          <span data-cite></span>
        </a>
      </div>
    </div>
  </template>

  <script>
    // --- Data (from user-provided brief) ---
    const sentiments = [
      {
        emotion: "positive",
        title: "Truly compact and portable",
        summary: "Users consistently praise the Pulse Pro's tiny size (about 900 g, palm-sized) and waterproof carry bag, making it easy to carry to shore, pack in a SUP bungee or stow in a backpack. Many reviewers say it replaces larger, corded pumps for day trips and hikes.",
        quotes: [
          { quote: "This incredibly compact battery powered unit filled my SUP from flat to full 12 PSI in 7 minutes ... The size is really good. It's very compact compared to my other SUP pumps.", source: "amazon", name: "Kevin Photo", url: "" },
          { quote: "It's small and lightweight ... it's so easy to take right to the shore with you so you don't have to lug whatever you're inflating from the car to the shore.", source: "youtube", name: "WTI Gina pump review", url: "", extra: "00:23–00:45" }
        ]
      },
      {
        emotion: "positive",
        title: "Good battery life for multiple inflations",
        summary: "The 4500 mAh battery regularly completed multiple inflations on one charge — reviewers and video tests report 2–4 typical inflations (e.g., three 10'6\" boards to ~12–15 PSI) per charge depending on board size and target PSI.",
        quotes: [
          { quote: "It charges fully in about 90 minutes, and provides 2 to 3 uses per charge.", source: "amazon", name: "flyteach", url: "" },
          { quote: "Three boards at up to 15 PSI... that was three boards on one charge. The battery still got three bars left.", source: "youtube", name: "Pulse Pro hands-on review (video 2)", url: "", extra: "03:13–03:39" }
        ]
      },
      {
        emotion: "positive",
        title: "Fast and powerful inflation",
        summary: "The brushless motor and two-stage design let the pump inflate boards quickly (many users report 5–10 minutes to reach typical SUP pressures), making it faster and less effort than hand pumps and convenient compared with larger plug-in pumps for shorter trips.",
        quotes: [
          { quote: "It takes about 5 minutes to inflate my paddleboard from zero to 13 PSI.", source: "amazon", name: "Matthew", url: "" },
          { quote: "While we were pumping them up at the lake ... they were so impressed with how quick it was and how convenient it was to not have to plug into a car for power.", source: "youtube", name: "WTI Gina pump review", url: "", extra: "00:12–00:38" }
        ]
      },
      {
        emotion: "positive",
        title: "Auto-off and deflate features save effort",
        summary: "Auto-stop at the set PSI and an auto-off deflation function make inflation and pack-up hands-free and quicker; reviewers appreciate that deflation stops automatically and that the pump handles both inflate and deflate tasks.",
        quotes: [
          { quote: "The initial inflation goes pretty quickly... Deflating takes very little time, and the pump does a great job removing all air so you can store the board easily.", source: "amazon", name: "The Goode Life Outdoors", url: "" },
          { quote: "It has auto shut off once it reaches your set PSI ... once you have deflated your craft using it it will auto shut off so you don't have to do that manually.", source: "youtube", name: "WTI Gina pump review", url: "", extra: "01:15–01:27" }
        ]
      },
      {
        emotion: "negative",
        title: "Loud in high-pressure (second) stage",
        summary: "Many users report the pump becomes noticeably loud when it shifts into the high-pressure/compressor stage — this is an expected tradeoff in small high-pressure pumps but can be disruptive at lakes or busy launch spots.",
        quotes: [
          { quote: "This worked very quickly and quietly until the SUP ... reached 1 psi. As soon as there was any back pressure the pump changed sounds and got very loud ... it also made the tube very hot!", source: "amazon", name: "D'Anemone", url: "" },
          { quote: "It changes sound and goes into high pressure pumping mode.", source: "youtube", name: "Pulse Pro hands-on review (video 2)", url: "", extra: "06:12–06:23" }
        ]
      },
      {
        emotion: "negative",
        title: "Heat buildup and strain on heavy high-PSI jobs",
        summary: "Small pumps like this generate heat under sustained high-pressure duty; reviewers and testers warn that repeated inflations at 20 PSI (large/long boards) can overheat connectors and shorten lifespan — one user reported the hose became too hot to touch and ~96 dB at 1 m during use.",
        quotes: [
          { quote: "It pumped my 14' SUP in 10.3 minutes and produced 96 decibels at one meter. The hose got so hot I could no longer touch it.", source: "amazon", name: "Amazon Kunde", url: "" },
          { quote: "Any of these small Q pumps we've tried ... they all seem to fall apart when you do a 12'6 board that inflates to 20 PSI. When you go to a big touring board that goes to high pressure, they can do it once, maybe twice, but that seems to be too much heat inside and that seems to kill them.", source: "youtube", name: "Pulse Pro hands-on review (video 2)", url: "", extra: "04:03–04:24" }
        ]
      },
      {
        emotion: "negative",
        title: "Some reliability / early-failure reports",
        summary: "While many customers report good performance, isolated reports exist of units failing after a small number of uses (won't charge or turn on), and at least one customer cited poor seller response for warranty/help.",
        quotes: [
          { quote: "This worked really well… twice! We only use it once in a while so it is outside the return date by a week. It won’t charge it won’t turn on. I tried contacting the seller with absolutely no response.", source: "amazon", name: "Cindee", url: "" }
        ]
      },
      {
        emotion: "negative",
        title: "No charger included / slow charging without PD adapter",
        summary: "The pump includes a USB-C cable but not a USB-C power adapter; reviewers emphasize you should bring a 30W+ USB-C PD charger for reasonable recharge times or it will be very slow with low-power phone chargers.",
        quotes: [
          { quote: "It doesn't come with a charger. ... You are really gonna want a 30W charger or you need to be 1000% certain that you aren't gonna need to use it more than once a day.", source: "amazon", name: "Jon Allen", url: "" }
        ]
      },
      {
        emotion: "mixed",
        title: "Adapters and sealing can require trial and error",
        summary: "Most users find the supplied stackable nozzles and gaskets cover common valves, but some had to try different gaskets or use a hand-pump gasket to get a reliable seal; fitting certain kite/wing valves may require trial and careful tightening.",
        quotes: [
          { quote: "I wasn't getting a good seal with the provided gaskets, and finally used the gasket from the hand pump that came with the board, and it sealed great.", source: "amazon", name: "The Goode Life Outdoors", url: "" },
          { quote: "I needed something that could inflate my tent ... this also comes with a variety of adapters which I found so awesome because I needed something that could inflate my tent ... I had to find the one that works.", source: "youtube", name: "wing inflation how-to (video 4)", url: "", extra: "00:32–01:13" }
        ]
      }
    ];

    // Helper to map emotion -> chip styles
    const chipLabel = (emotion) => (
      emotion === 'positive' ? 'Positive' : emotion === 'negative' ? 'Negative' : 'Mixed'
    );

    function buildSlides() {
      const track = document.getElementById('track');
      const slideTpl = document.getElementById('slideTemplate');
      const quoteTpl = document.getElementById('quoteTemplate');

      sentiments.forEach((s, idx) => {
        const slide = slideTpl.content.cloneNode(true);
        const el = slide.querySelector('.slide');
        el.setAttribute('aria-label', `Slide ${idx+1} of ${sentiments.length}`);

        const chip = slide.querySelector('[data-chip]');
        chip.textContent = chipLabel(s.emotion);
        if (s.emotion === 'negative') chip.classList.add('neg');
        if (s.emotion === 'mixed') chip.classList.add('mix');

        slide.querySelector('[data-title]').textContent = s.title;
        slide.querySelector('[data-summary]').textContent = s.summary;

        const quotesWrap = slide.querySelector('[data-quotes]');

        s.quotes.forEach(q => {
          const qEl = quoteTpl.content.cloneNode(true);
          qEl.querySelector('[data-quote]').textContent = q.quote;

          // Build citation text like "Name (Amazon)" or "Video Name (YouTube) — 00:12–00:38"
          const sourceLabel = q.source ? (q.source.toLowerCase() === 'amazon' ? 'Amazon' : 'YouTube') : '';
          const citeTxt = q.name ? `${q.name} (${sourceLabel})${q.extra ? ' — ' + q.extra : ''}` : `${sourceLabel}${q.extra ? ' — ' + q.extra : ''}`;
          qEl.querySelector('[data-cite]').textContent = citeTxt;

          // Visual link indication — if URL known, use it; otherwise keep placeholder "#"
          const href = q.url && q.url.trim().length > 0 ? q.url : '#';
          const a = qEl.querySelector('[data-href]');
          a.href = href;
          if (href === '#') {
            a.setAttribute('aria-disabled', 'true');
            a.style.opacity = 0.6;
            a.title = 'Source link to be added';
          } else {
            a.title = 'Open source in new tab';
          }

          quotesWrap.appendChild(qEl);
        });

        track.appendChild(slide);
      });

      buildDots();
    }

    // Carousel logic
    let current = 0;

    function updateCarousel() {
      const track = document.getElementById('track');
      const width = document.getElementById('carousel').clientWidth;
      track.style.transform = `translateX(-${current * width}px)`;
      updateDots();
    }

    function buildDots() {
      const dots = document.getElementById('dots');
      dots.innerHTML = '';
      for (let i = 0; i < sentiments.length; i++) {
        const d = document.createElement('div');
        d.className = 'dot' + (i === current ? ' active' : '');
        d.addEventListener('click', () => { current = i; updateCarousel(); });
        dots.appendChild(d);
      }
    }

    function updateDots() {
      const dots = Array.from(document.getElementById('dots').children);
      dots.forEach((d, i) => d.classList.toggle('active', i === current));
    }

    // Buttons
    document.getElementById('prevBtn').addEventListener('click', () => {
      current = (current - 1 + sentiments.length) % sentiments.length;
      updateCarousel();
    });
    document.getElementById('nextBtn').addEventListener('click', () => {
      current = (current + 1) % sentiments.length;
      updateCarousel();
    });

    // Swipe handling for mobile
    let startX = null;
    document.getElementById('carousel').addEventListener('touchstart', (e) => {
      startX = e.touches[0].clientX;
    }, { passive: true });
    document.getElementById('carousel').addEventListener('touchmove', (e) => {
      if (startX === null) return;
      const dx = e.touches[0].clientX - startX;
      if (Math.abs(dx) > 60) {
        if (dx > 0) {
          current = (current - 1 + sentiments.length) % sentiments.length;
        } else {
          current = (current + 1) % sentiments.length;
        }
        updateCarousel();
        startX = null;
      }
    }, { passive: true });

    // Resize observer to keep slide width in sync
    window.addEventListener('resize', updateCarousel);

    // Init
    buildSlides();
    updateCarousel();
  </script>
</body>
</html>
