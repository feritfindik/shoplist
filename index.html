<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Directory Index</title>
<style>
:root { --gap: 12px; --radius: 14px; --shadow: 0 6px 18px rgba(0,0,0,.08); --text:#1f2937; --muted:#6b7280; --bg:#ffffff; --chip:#f3f4f6; --accent:#2563eb; }
* { box-sizing: border-box }
html, body { height:100%; }
body { margin:0; font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; color:var(--text); background: var(--bg); }
header { position:sticky; top:0; z-index:10; background:#fff; border-bottom:1px solid #e5e7eb; backdrop-filter: saturate(150%) blur(4px); }
.wrap { max-width: 880px; padding: 16px; margin: 0 auto; }
h1 { font-size: 20px; margin: 0 0 8px; }
.toolbar { display:flex; flex-wrap:wrap; gap: var(--gap); align-items:center; }
.toolbar > * { flex: 0 0 auto; }
.toolbar .spacer { flex: 1 1 auto; }
input[type="search"] { min-width: 220px; border:1px solid #e5e7eb; padding:10px 12px; border-radius: 999px; outline:none; box-shadow: var(--shadow); }
input[type="search"]:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(37,99,235,.15); }
button { border:0; background: var(--text); color:#fff; padding: 10px 14px; border-radius: 999px; cursor:pointer; box-shadow: var(--shadow); }
button[disabled] { opacity:.45; cursor:not-allowed; }
.hint { color: var(--muted); font-size: 13px; }


ul#files { list-style:none; padding:0; margin:16px 0 60px; display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: var(--gap); }
ul#files li { border:1px solid #e5e7eb; border-radius: var(--radius); padding: 12px; background:#fff; box-shadow: var(--shadow); display:flex; align-items:center; gap:10px; }
ul#files li .dot { width:10px; height:10px; border-radius:50%; background:#d1d5db; flex:0 0 auto; }
ul#files li a { color: var(--text); text-decoration:none; font-weight: 600; word-break: break-word; }
ul#files li a:hover { color: var(--accent); text-decoration: underline; }


.empty { padding:18px; border:1px dashed #d1d5db; border-radius: var(--radius); background: #fafafa; color: var(--muted); }


details { background:#fff; border:1px solid #e5e7eb; border-radius: var(--radius); padding: 10px 14px; box-shadow: var(--shadow); }
details > summary { cursor:pointer; font-weight:600; }
code.inline { background: #f3f4f6; border-radius: 6px; padding: 2px 6px; }
</style>
</head>
<body>
<header>
<div class="wrap">
<h1>Directory Index</h1>
<div class="toolbar">
<button id="pick">Pick folder</button>
<button id="reloadJson" title="Try loading index-list.json again">Reload</button>
<span class="spacer"></span>
<input id="search" type="search" placeholder="Filter files… (e.g. report, test)" />
</div>
<p class="hint" id="envHint"></p>
</div>
</header>


<main class="wrap">
<ul id="files" aria-live="polite"></ul>
<div id="emptyState" class="empty" hidden>
<strong>No .html files found yet.</strong>
<div class="hint">Use <em>Pick folder</em> (recommended) or add filenames to the static fallback list (see “How it works”).</div>
</div>


<details style="margin-top:24px">
<summary>How it works & fallbacks</summary>
<div class="hint" style="margin-top:10px">
This single <code class="inline">index.html</code> supports three ways to show and navigate to other HTML files in the <em>same directory</em>:
<ol>
<li><strong>Folder picker (best):</strong> Click <em>Pick folder</em> and choose this directory. Files are discovered with the File System Access API and linked as <code class="inline">./filename.html</code>. Works in Chromium-based browsers.</li>
<li><strong>JSON manifest (zero clicks):</strong> Optionally drop a <code class="inline">index-list.json</code> next to this file containing an array of filenames, e.g. <code class="inline">["page1.html","demo.htm"]</code>. This page will auto-load it.</li>
<li><strong>Static fallback:</strong> Edit the <code class="inline">data-files</code> attribute below to hardcode names. (This is purely optional.)</li>
</ol>
</html>